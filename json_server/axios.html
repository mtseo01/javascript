<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Document</title>
  </head>
  <body>
    <button onclick="getData()">getData</button>
    <button onclick="postData()">postData</button>
    <button onclick="putData()">putData</button>
    <button onclick="deleteData()">deleteData</button>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Author</th>
        </tr>
      </thead>
      <tbody id="t-body"></tbody>
    </table>
    <script>
      function getData() {
        axios.get('http://localhost:3000/databases').then((response) => {
          const temp = [];
          response.data.forEach((data) => {
            temp.push(`<tr>`);
            temp.push(`<td>${data.id}</td>`);
            temp.push(`<td>${data.title}</td>`);
            temp.push(`<td>${data.author}</td>`);
            temp.push(`</tr>`);
          });
          document.getElementById('t-body').innerHTML = temp.join('');
        });
      }

      function postData() {
        const data = { title: 'About Node.js', author: 'Seo' };
        axios.post('http://localhost:3000/databases', data).then((response) => {
          console.log(response);
        });
      }

      function putData() {
        const data = { title: 'About Network.js', author: 'Choi' };
        axios
          .put('http://localhost:3000/databases/6', data)
          .then((response) => {
            console.log(response);
          });
      }

      function deleteData() {
        axios.delete('http://localhost:3000/databases/6').then((response) => {
          console.log(response);
        });
      }
    </script>
  </body>
</html>
